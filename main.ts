namespace SpriteKind {
    export const enemy_monkey = SpriteKind.create()
    export const enemy_bear = SpriteKind.create()
    export const princess = SpriteKind.create()
    export const objec = SpriteKind.create()
    export const object = SpriteKind.create()
    export const enemy_tiger = SpriteKind.create()
    export const object_key1 = SpriteKind.create()
    export const object_key2 = SpriteKind.create()
    export const object_key3 = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.enemy_bear, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (knight.vy == 0) {
        knight.vy = -150
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.object_key1, function (sprite, otherSprite) {
    key.destroy()
    keyCount += 1
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.enemy_monkey, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    spear = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . 1 . . . . . 
        . f f f f f f f f f 1 1 1 . . . 
        . . . . . . . . . . 1 . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, knight, 100, 10)
    pause(1000)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.enemy_bear, function (sprite, otherSprite) {
    bear.destroy()
    spear.destroy()
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.enemy_tiger, function (sprite, otherSprite) {
    tiger.destroy()
    spear.destroy()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.object_key2, function (sprite, otherSprite) {
    key2.destroy()
    keyCount += 1
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.enemy_tiger, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
})
info.onLifeZero(function () {
    game.over(false)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.enemy_monkey, function (sprite, otherSprite) {
    monkey.destroy()
    spear.destroy()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.object_key3, function (sprite, otherSprite) {
    key3.destroy()
    keyCount += 1
})
let spear: Sprite = null
let key3: Sprite = null
let key2: Sprite = null
let key: Sprite = null
let tiger: Sprite = null
let monkey: Sprite = null
let bear: Sprite = null
let knight: Sprite = null
knight = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . 2 2 2 2 2 2 . . . . 
    . . . . . 2 2 2 2 2 2 . . . . . 
    . . . . . . 5 5 5 5 . . . . . . 
    . . . . . 5 5 5 5 5 5 . . . . . 
    . . . . . 5 5 5 5 5 5 . . . . . 
    . . . . . 5 5 5 5 f 5 1 . . . . 
    . . . . . 5 5 5 d d 5 1 . . . . 
    . . . . . . 5 5 d d 1 1 1 . . . 
    . . . . . . . 5 d 5 . f . . . . 
    . . . . . . 2 2 5 5 5 f . . . . 
    . . . . . 2 2 2 d d d d . . . . 
    . . . . . 2 2 5 5 5 5 f . . . . 
    . . . . . 2 2 5 5 5 . f . . . . 
    . . . . . 2 2 . 5 5 . f . . . . 
    . . . . 2 2 2 . e e e f . . . . 
    `, SpriteKind.Player)
knight.setPosition(14, 34)
knight.ay = 280
info.setLife(1)
scene.setBackgroundImage(img`
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffff555555555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffff55555555555ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffff5555555555555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffff555555555555555ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffff55555555555555555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffff55555555555555555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffff55555555555555555ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff55fffffffffffffffffffffffffffffffffffffff
    ffff55555555555555555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff5555ffffffffffffffffffffffffffffffffffffff
    ffff55555555555555555ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff555555fffffffffffffffffffffffffffffffffffff
    ffff55555555555555555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff55555555ffffffffffffffffffffffffffffffffffff
    ffff55555555555555555ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff5fffffffffffffffffffffffffffffffffff555555fffffffffffffffffffffffffffffffffffff
    ffff55555555555555555fffffffffffffffffffffff5fffffffffffffffffffffffffffffffffff555fffffffffffffffffffffffffffffffffff5555ffffffffffffffffffffffffffffffffffffff
    ffff55555555555555555ffffffffffffffffffffff555fffffffffffffffffffffffffffffffff55555fffffffffffffffffffffffffffffffffff55fffffffffffffffffffffffffffffffffffffff
    fffff555555555555555ffffffffffffffffffffff55555fffffffffffffffffffffffffffffffff555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffff5555555555555ffffffffffffffffffffff5555555fffffffffffffffffffffffffffffffff5fffffffffffff5ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffff55555555555ffffffffffffffffffffffff55555fffffffffffffffffffffffffffffffffffffffffffffff555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffff555555555ffffffffffffffffffffffffff555fffffffffffffffffffffffffffffffffffffffffffffff55555ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffff5fffffffffffffffffffffffffffffffffffffffffffffff5555555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff55555ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff555fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff5ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffffff6fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffffff66ffffff6ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffffff666fffff6ffffffffffff6fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffff66666ffff66ffffffffff666ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffff6666666fff66ffffffffff666ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffff696666fff666fffffffff66666fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffff66666fff6666ffffffff666666ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffff6666666fff66ffffffffff6666fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffff6666f66ff666fffffff666666fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffff666666fff666fffffffff666666ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffff66966666ff6666fffffff66666f66fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    ffffffffffffffffffffffffff666666666666ffffff6666666fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffffffffffffffff6666666666666666666ff666666ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fffffffffffff6ffffffffff666666666666666666666ff666666ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6ffffffffffffffffff
    ffffffffffff666fffffffffff66666666666666666666666ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6ffff66ffffffffffffffffff
    ffffffffffff66ffffffffff66666666666666666666666666ffffffffffffffffffffffffffffffffff6ffffffffffffffffffffffffffffffffffffffffffffffffff66fff66ffffffffffffffffff
    fffffffffff666fffffffff6666666666666666666666666666fffffffffffffffffffffffffffffff66666666fffffffffffffffffffffffffffffffffffffffffffff66ff666ffffffffffffffffff
    ffffffffff66666ffffff6666666666666666666666666666666fffffffffffffffffffffffff666666666666666666fffffffffffffffffffffffffffffffffff6fff6666f66666ffffffffffffffff
    fffffffffff666fffff6666666666666666666666666666666666ffffffffffffffffffffff66666666666666666666ffffffffffffffffffffffffffffffffff666ff6666ff66ffffffffffffffffff
    ffffffffffff666fff666666666666666666666666666666666666ffffffffffffffffffff6666666666666666666666fffffffffffffffffffffffffffffffff666fff66ff666666fffffffffffffff
    ffffffffff6666ff666666666666666666666666666666666666666ffffffffffffffffff666666666666666666666666fffffffffffffffffffffffffffffff6666f666666666fffffffff6ffffffff
    fffffffffff666666666666666666666666666666666666666666666fffffffffffffffff6666666666666666666666666666fffffffffffffffffffffffffffff6669666699966ffffffff6ffffffff
    ffffffffffff666666666666666666666666666666666666666666666ffffffffffffffff66666666666666666666666666666666ffffffffffffffffffffffff6669966666996ffffffff6666ffffff
    ffffffffffff6666666666666666666666666666666666666666666666ffffffffffffff6666666666666666666666666666666666666ffffffffffffffffff666666666666696fffffffff6ffffffff
    fffffffffff66666666666666666666666666666666666666666666666fffffffffffff6666666666666666666666666666666666666666666666fffffffffff66666666666666666ffff6666fffffff
    ffffffffff6666666666666666666666666666666666666666666666666fffffffffff66666666666666666666666666666666666666666666666666f6fffff66666996666666666666fff666fffffff
    ffffffff6666666666666666666666666666666666666666666666666666ffffffff66666666666666666666666666666666666666666666666666666666666666666666666666666666ff66666fffff
    fffffff666666666666666666666666666666666666666666666666666666ffffff666666666666666666666666666666666666666666666666666666666666666666666666666666666666666ffffff
    ffffff66666666666666666666666666666666666666666666666666666666fffff66666666666666666666666666666666666666666666666666666666666666666666666666666666666666fffffff
    fffff6666666666666666666666666666666666666666666666666666666666fff666666666666666666666666666666666666666666666666666666666666666666666666666666666666666fffffff
    fff6666666666666666666666666666666666666666666666666666666666666ff6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666ffffff
    ff666666666666666666666666666666666666666666666666666666666666666f666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666ffff
    f6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666ff
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
    `)
tiles.setTilemap(tiles.createTilemap(hex`a00014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000002020000000000000001010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101000000000000000000000000000000000000000000000000000000020200000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101010000000000000000000000000000000000000000000000000202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010000000000000000000000000000000000000000000002020000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000040000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010000000000000000000000000000000000000000000101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003030300000003030300000003030300000003030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010000000000010100000000010000000000000000000101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000909090909090909090909090808080808080808080808080808080808080101010108090809080901010101010101010108090809080908010101010101010809090808080808090909090909090909080808080808080909080901010101010101010101010101010101010000000000000000000000000000000000000001010101010101010101010909090909090909090901010909090101010101010606060606060606060505050505050505060606060606060606060606060600000000050606050506000000000000000000060505060606050000000000000005050605060505060505060605060605060506050605050605060605010101010101010101010101010101010100000000000000000000000000000000000000`, img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ......222222222222222222222222222222222222222222222.............................................................................................................
    222................................................22...........................................................................................................
    2222................................................22..........................................................................................................
    222222...............................................22.........................................................................................................
    222222222222222222222222..............................22.......22222222222222222222222222....................2..................................................
    .........................2.............................22.......................................................................................................
    ...........................22...........................22...2..................................................................................................
    .........................................................22...............................................2.....2...............................................
    ...............................222........................22....................................................................................................
    ...........................................................22...................................................................................................
    ..................................2222......................22.........................................2.....2.....2............................................
    .............................................................2..................................................................................................
    .............22222.....................2222.....................................................................................................................
    ...................................................................................................222...222...222...222........................................
    ...........22.....22....2.........2222..........................................................................................................................
    ..............................................................22222......222222222.......2222222............................22222222222222222...................
    22222222222.........222...222222............................................................................................22222222222222222...................
    `, [myTiles.transparency16,sprites.builtin.forestTiles2,sprites.builtin.brick,sprites.builtin.oceanSand2,sprites.dungeon.floorLight0,sprites.dungeon.hazardLava0,sprites.dungeon.hazardLava1,sprites.castle.saplingOak,myTiles.tile1,myTiles.tile2], TileScale.Sixteen))
scene.cameraFollowSprite(knight)
controller.moveSprite(knight, 100, 0)
bear = sprites.create(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    .............ee.ee..............
    ............eeeeee..............
    .........fffeffeeee.............
    .........fffefeeeee.............
    .........feeeeeeeee.............
    .........eeeeeeeeee.............
    .........1.3eeeeee..............
    ..........eeeeeeee..............
    ...........eeeeeeee.............
    ....eeee....eeeeeeee............
    ..eeeeeeeeeeeeeeeeee............
    ..feeeeeeeeeeeeeeeee............
    ..ffeeeeeeeeeeeeeeee............
    ..fff...eeeeeeeeeeeee...........
    ...f......eeeeeeeeeee...........
    ..........eeeeeeeeeee...........
    ..........eeeeeeeeeee...........
    ..........eeeeeeeeeeeee.........
    ..........eeeeeeeeeeeee.........
    ...........eeeeeeeeeeee.........
    ............eeeeeeeee...........
    ............eeeeeeee............
    .............eeeeeee............
    .............eeeee..............
    ............eeeee...............
    ..........feeeeee...............
    .........ffeeeeee...............
    `, SpriteKind.enemy_bear)
monkey = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . d d e e . . . . . . 
    . . . . . d f d e e . . . . . . 
    . . . . d d d d e e . . . . . . 
    . . . . d d d d e e e . . . . . 
    . 5 . . . d d e e . e . . . . . 
    . . 5 . . . e e e . e . . . . . 
    . . 5 . . e e e e e e . . e . . 
    . . e e e e e e e e . . e e . . 
    . . f . e e e e e e . e e . . . 
    . . . . . e e e e e . e . . . . 
    . . . . . e e e e e e e . . . . 
    . . . . . . e e e e . . . . . . 
    . . . . . e e e . e . . . . . . 
    `, SpriteKind.enemy_monkey)
let princess = sprites.create(img`
    . . . . . . 2 e e e . . . . . . 
    . . . . . . 5 5 5 e e . . . . . 
    . . . . . . d e e e e . . . . . 
    . . . . . . f d e e e . . . . . 
    . . . . . . d d d e e . . . . . 
    . . . . . . . d d e e . . . . . 
    . . . . . 3 3 3 d e e . . . . . 
    . . . . . 3 3 3 d e e . . . . . 
    . . . . . . 3 3 d e . . . . . . 
    . . . . . 3 3 3 d 3 . . . . . . 
    . . . . 3 3 3 3 d 3 3 . . . . . 
    . . . . 3 3 3 3 3 3 3 . . . . . 
    . . . . 3 3 3 3 3 3 3 . . . . . 
    . . . 3 3 3 3 3 3 3 3 3 . . . . 
    . . . 3 3 3 3 3 3 3 3 3 . . . . 
    . . . 3 3 3 3 3 3 3 3 3 . . . . 
    `, SpriteKind.princess)
tiger = sprites.create(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ...........f....................
    ..........f1....................
    ........dd44....................
    ......4dff44f44.................
    .....444f44f444f4...............
    .....444444f444ff4..............
    .....133f4444444f44f4...........
    .....144fddd444ff44f44f4ff......
    .......4ffdd4fff444f44f44f4ff...
    ...........dff4444ff44f44f4df...
    ..........4ff444fff444f4df.d4...
    ........444fddddfdddddfdd...ff..
    ......ff44444ddffdddddf.....d4..
    ......f444..44df...d4ff.....df4.
    ............44d....444........d4
    ...........4444....444.........4
    .........ff4444..ff444..........
    .........f4444...f444...........
    ................................
    ................................
    ................................
    ................................
    `, SpriteKind.enemy_tiger)
key = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . f f f f . . . . . . . . . . . 
    . f . . 5 5 5 . . . . . . . . . 
    . . f . 5 f 5 5 5 5 5 . . . . . 
    . . . f f 5 5 . 5 . 5 . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.object_key1)
key2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . f f f f . . . . . . . . . . . 
    . f . 2 2 2 . . . . . . . . . . 
    f . . 2 f 2 2 2 2 2 . . . . . . 
    . f f f 2 2 . 2 . 2 . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.object_key2)
key3 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . f f f f . . . . . . . . 
    . . . . f . . f . . . . . . . . 
    . . . . f f 7 7 . . . . . . . . 
    . . . . . 7 f 7 7 7 7 7 . . . . 
    . . . . . 7 7 7 . 7 . 7 . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.object_key3)
key.setPosition(32, 70)
tiger.setPosition(52, 70)
monkey.setPosition(66, 70)
bear.setPosition(114, 30)
princess.setPosition(138, 41)
key2.setPosition(49, 46)
key3.setPosition(66, 36)
let keyCount = 0
game.onUpdate(function () {
    knight.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . 2 2 2 2 2 2 . . . . 
        . . . . . 2 2 2 2 2 2 . . . . . 
        . . . . . . 5 5 5 5 . . . . . . 
        . . . . . 5 5 5 5 5 5 . . . . . 
        . . . . . 5 5 5 5 5 5 . . . . . 
        . . . . . 5 5 5 5 f 5 1 . . . . 
        . . . . . 5 5 5 d d 5 1 . . . . 
        . . . . . . 5 5 d d 1 1 1 . . . 
        . . . . . . . 5 d 5 . f . . . . 
        . . . . . . 2 2 5 5 5 f . . . . 
        . . . . . 2 2 2 d d d d . . . . 
        . . . . . 2 2 5 5 5 5 f . . . . 
        . . . . . 2 2 5 5 5 . f . . . . 
        . . . . . 2 2 . 5 5 . f . . . . 
        . . . . 2 2 2 . e e e f . . . . 
        `)
    if (knight.vx < 0) {
        knight.image.flipX()
    }
})
forever(function () {
    if (keyCount == 3) {
        if (knight.overlapsWith(princess)) {
            game.over(true)
        }
    }
})
